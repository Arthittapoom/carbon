(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{431:function(t,e,o){var content=o(482);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(59).default)("36ff57ee",content,!0,{sourceMap:!1})},481:function(t,e,o){"use strict";o(431)},482:function(t,e,o){var r=o(58)((function(i){return i[1]}));r.push([t.i,".container[data-v-31e2feca]{background:#fff;border-radius:8px;margin:20px auto;max-width:1200px;padding:20px;width:100%}.title[data-v-31e2feca]{color:#333;font-size:24px;margin-bottom:20px;text-align:center}.search-input[data-v-31e2feca]{border:1px solid #ccc;border-radius:5px;font-size:16px;margin-bottom:15px;padding:10px;width:100%}.data-table[data-v-31e2feca]{background:#fff;border-collapse:collapse;width:100%}.data-table td[data-v-31e2feca],.data-table th[data-v-31e2feca]{border:1px solid #ddd;padding:12px;text-align:left}.data-table th[data-v-31e2feca]{background-color:#2c97af;color:#fff;cursor:pointer;text-align:center}.data-table tr[data-v-31e2feca]:nth-child(2n){background-color:#f9f9f9}.data-table tr[data-v-31e2feca]:hover{background-color:#f1f1f1}button[data-v-31e2feca]{border:none;border-radius:5px;cursor:pointer;font-size:14px;padding:8px 12px;transition:.3s ease-in-out}button[data-v-31e2feca]:hover{opacity:.8}button.sell[data-v-31e2feca]{background:#28a745;color:#fff}button.document[data-v-31e2feca]{background:#ffc107;color:#000}button.approve[data-v-31e2feca]{background:#17a2b8;color:#fff}button.details[data-v-31e2feca]{background:#6c757d;color:#fff}button.close[data-v-31e2feca]{background:red;color:#fff}.modal[data-v-31e2feca]{align-items:center;background:rgba(0,0,0,.5);display:flex;height:100%;justify-content:center;left:0;position:fixed;top:0;width:100%}.modal-content[data-v-31e2feca]{animation:fadeIn-31e2feca .3s ease-in-out;background:#fff;border-radius:8px;box-shadow:0 4px 10px rgba(0,0,0,.2);padding:20px;width:50%}@keyframes fadeIn-31e2feca{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}",""]),r.locals={},t.exports=r},532:function(t,e,o){"use strict";o.r(e);o(24);var r=o(0),n=o(43),c=(o(5),o(3),o(98),o(21),o(99),o(384),o(182),o(253),o(7),o(8),o(6),o(2),o(143),o(65),o(385),o(386),o(387),o(388),o(389),o(390),o(391),o(392),o(393),o(394),o(395),o(396),o(397),o(398),o(399),o(401),o(402),o(403),o(404),o(405),o(406),o(407),o(408),o(409),o(4),o(68),o(410),o(254),o(73)),l=o(119),d=o.n(l);function f(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}var v={layout:"menu-profile",data:function(){return{formList:[],searchQuery:"",sortKey:"",selectedForm:null,uid:""}},computed:{filteredForms:function(){var t=this;return this.formList.filter((function(form){return form.projectNameTh.includes(t.searchQuery)||form.contactName.includes(t.searchQuery)||form.email.includes(t.searchQuery)})).sort((function(a,b){return t.sortKey?a[t.sortKey]>b[t.sortKey]?1:-1:0}))}},mounted:function(){var t=this;c.a.auth().onAuthStateChanged((function(e){e?t.uid=e.uid:d.a.fire({icon:"error",title:"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î",text:"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö",confirmButtonText:"‡∏ï‡∏Å‡∏•‡∏á",confirmButtonColor:"#007BFF"}).then((function(){t.$router.push("/login")}))})),this.fetchData(this.uid)},methods:{receive:function(form){var t=this;c.a.database().ref("T-VER-Form/".concat(form.id)).update({status:5}),c.a.database().ref("users/".concat(this.uid)).once("value",(function(e){var o=e.val().amount||0,r=Number(o)+Number(form.price);c.a.database().ref("users/".concat(t.uid)).update({amount:r})}))},sell:function(form){d.a.fire({title:"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏≤‡∏Ñ‡∏≤",input:"number",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô",cancelButtonText:"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å",showLoaderOnConfirm:!0,preConfirm:function(t){return t<0&&d.a.showValidationMessage("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏≤‡∏Ñ‡∏≤‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á"),{price:t}}}).then((function(t){t.isConfirmed&&c.a.database().ref("T-VER-Form/".concat(form.id)).update({status:3,price:t.value.price})}))},showDocuments:function(t){if(t){for(var e in t)if(t.hasOwnProperty(e)){var o=t[e],r=o.fileData,n=o.fileName,c=o.uploadDate;console.log("File Name: ".concat(n)),console.log("Upload Date: ".concat(c));for(var l=atob(r.split(",")[1]),f=new Array(l.length),i=0;i<l.length;i++)f[i]=l.charCodeAt(i);var v=new Uint8Array(f),m="",_=n.split(".").pop().toLowerCase();switch(_){case"pdf":m="application/pdf";break;case"txt":m="text/plain";break;case"png":case"jpg":case"jpeg":case"gif":m="image/"+_;break;case"xlsx":case"xls":m="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case"docx":m="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;default:m="application/octet-stream"}var h=new Blob([v],{type:m}),link=document.createElement("a");link.href=URL.createObjectURL(h),link.download=n,document.body.appendChild(link),link.click(),document.body.removeChild(link)}}else d.a.fire({icon:"error",title:"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î",text:"‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÑ‡∏ü‡∏•‡πå"})},rejectForm:function(form){d.a.fire({title:"‡∏Å‡πç‡∏≤‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏Å‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£",icon:"info",showConfirmButton:!1})},fetchData:function(t){var e=this;c.a.database().ref("T-VER-Form").on("value",(function(o){var data=o.val();e.formList=Object.entries(data||{}).map((function(t){var e=Object(n.a)(t,2);return function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?f(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({id:e[0]},e[1])})),t&&(e.formList=e.formList.filter((function(form){return form.uid===t})))}))},sortBy:function(t){this.sortKey=t},showDetails:function(form){this.selectedForm=form}}},m=v,_=(o(481),o(53)),component=Object(_.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("h1",{staticClass:"title"},[t._v("‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏≠‡∏ô‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"search-input",attrs:{placeholder:"üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£..."},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),t._v(" "),e("table",{staticClass:"data-table"},[e("thead",[e("tr",[e("th",{on:{click:function(e){return t.sortBy("projectNameTh")}}},[t._v("‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£")]),t._v(" "),e("th",[t._v("‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£")]),t._v(" "),e("th",{on:{click:function(e){return t.sortBy("contactName")}}},[t._v("‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô")]),t._v(" "),e("th",[t._v("‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞")]),t._v(" "),e("th",{on:{click:function(e){return t.sortBy("date_submitForm")}}},[t._v("‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡πà‡∏á")]),t._v(" "),e("th",[t._v("‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î")])])]),t._v(" "),e("tbody",t._l(t.filteredForms,(function(form){return e("tr",{key:form.id},[e("td",[t._v(t._s(form.projectNameTh))]),t._v(" "),e("td",[t._v(t._s(form.projectTypes.join(", ")))]),t._v(" "),e("td",[t._v(t._s(form.contactName))]),t._v(" "),e("td",[t._v("\n          "+t._s("1"===form.status?"‚è≥ ‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö":"2"===form.status?"‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß":3===form.status?"üí∞ ‡πÄ‡∏™‡∏ô‡∏≠‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏•‡πâ‡∏ß":4===form.status?"üí∞üíµ ‡∏Ç‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß":5===form.status?"üíµ ‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß":"‚ùå ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö")+"\n\n          "),4===form.status?e("button",{staticClass:"sell",on:{click:function(e){return t.receive(form)}}},[t._v("üíµ ‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô")]):t._e(),t._v(" "),"2"===form.status?e("button",{staticClass:"sell",on:{click:function(e){return t.sell(form)}}},[t._v("‡πÄ‡∏™‡∏ô‡∏≠‡∏Ç‡∏≤‡∏¢")]):t._e(),t._v(" "),"2"===form.status||"3"===form.status?e("button",{staticClass:"document",on:{click:function(e){return t.showDocuments(form.files)}}},[t._v("üìÑ ‡∏î‡∏π‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£")]):t._e(),t._v(" "),"3"===form.status?e("button",{staticClass:"approve",on:{click:function(e){return t.approveOffer(form)}}},[t._v("‚úîÔ∏è ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏£‡∏≤‡∏Ñ‡∏≤")]):t._e()]),t._v(" "),e("td",[t._v(t._s(new Date(form.date_submitForm).toLocaleString()))]),t._v(" "),e("td",[e("button",{staticClass:"details",on:{click:function(e){return t.showDetails(form)}}},[t._v("üëÅÔ∏è ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î")])])])})),0)]),t._v(" "),t.selectedForm?e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-content"},[e("h2",[t._v("üìú ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£")]),t._v(" "),e("p",[e("strong",[t._v("‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©:")]),t._v(" "+t._s(t.selectedForm.projectNameEn))]),t._v(" "),e("p",[e("strong",[t._v("‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢:")]),t._v(" "+t._s(t.selectedForm.projectNameTh))]),t._v(" "),e("p",[e("strong",[t._v("‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£:")]),t._v(" "+t._s(t.selectedForm.projectTypes.join(", ")))]),t._v(" "),e("p",[e("strong",[t._v("‡∏≠‡∏∑‡πà‡∏ô ‡πÜ:")]),t._v(" "+t._s(t.selectedForm.otherProjectType||"-"))]),t._v(" "),e("h3",[t._v("üë®‚Äçüíº ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ú‡∏π‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£")]),t._v(" "),e("p",[e("strong",[t._v("‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô:")]),t._v(" "+t._s(t.selectedForm.contactName))]),t._v(" "),e("p",[e("strong",[t._v("‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà:")]),t._v(" "+t._s(t.selectedForm.address))]),t._v(" "),e("p",[e("strong",[t._v("‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå:")]),t._v(" "+t._s(t.selectedForm.phone))]),t._v(" "),e("p",[e("strong",[t._v("‡πÇ‡∏ó‡∏£‡∏™‡∏≤‡∏£:")]),t._v(" "+t._s(t.selectedForm.fax||"-"))]),t._v(" "),e("p",[e("strong",[t._v("‡∏≠‡∏µ‡πÄ‡∏°‡∏•:")]),t._v(" "+t._s(t.selectedForm.email))]),t._v(" "),e("button",{staticClass:"close",on:{click:function(e){t.selectedForm=null}}},[t._v("‚ùå ‡∏õ‡∏¥‡∏î")])])]):t._e()])}),[],!1,null,"31e2feca",null);e.default=component.exports}}]);