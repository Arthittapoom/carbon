(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{311:function(t,e,n){"use strict";var r=n(320);n(321),n(327),n(326),n(328);r.a.apps.length||r.a.initializeApp({apiKey:"AIzaSyCE3qtmBF-NGKJKIXQRzEM3VyVBKeE9dTM",authDomain:"carbon-185cf.firebaseapp.com",projectId:"carbon-185cf",storageBucket:"carbon-185cf.firebasestorage.app",messagingSenderId:"261000389665",appId:"1:261000389665:web:850593183644fe375fef60",measurementId:"G-KTQFCNBZ7D",databaseURL:"https://carbon-185cf-default-rtdb.firebaseio.com/"}),e.a=r.a},314:function(t,e,n){var content=n(324);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("655d5416",content,!0,{sourceMap:!1})},319:function(t,e,n){"use strict";var r=n(10),o=n(232).values;r({target:"Object",stat:!0},{values:function(t){return o(t)}})},322:function(t,e,n){t.exports=n.p+"img/image 5.4cf8da2.svg"},323:function(t,e,n){"use strict";n(314)},324:function(t,e,n){var r=n(81)((function(i){return i[1]}));r.push([t.i,".icon-user[data-v-27fda3b9]{height:30px;width:30px}.navbar-dark .navbar-nav .nav-link[data-v-27fda3b9]{color:#000}.navbar-dark .navbar-nav .nav-link[data-v-27fda3b9]:focus,.navbar-dark .navbar-nav .nav-link[data-v-27fda3b9]:hover{color:#fff}.navbar-toggler[data-v-27fda3b9]{background-color:#a7a7a7}.bg-transparent[data-v-27fda3b9]{background-color:hsla(60,87%,97%,0)!important}@media (max-width:575px){.ml-5[data-v-27fda3b9]{margin-left:0!important}}.btn-secondary[data-v-27fda3b9],.btn-secondary.focus[data-v-27fda3b9],.btn-secondary[data-v-27fda3b9]:focus,.btn-secondary:not(:disabled):not(.disabled).active[data-v-27fda3b9],.btn-secondary[data-v-27fda3b9]:not(:disabled):not(.disabled):active,.show>.btn-secondary.dropdown-toggle[data-v-27fda3b9]{background-color:rgba(0,136,255,0);border-color:rgba(0,136,255,0);color:#fff}.btn-secondary.focus[data-v-27fda3b9],.btn-secondary[data-v-27fda3b9]:focus{box-shadow:0 0 0 .2rem hsla(0,0%,100%,0)}",""]),r.locals={},t.exports=r},325:function(t,e,n){"use strict";n(1),n(319),n(3);var r=n(313),o=n.n(r),c=n(311),l={data:function(){return{islogin:!1,userEmail:"",role:"",noitify:null}},mounted:function(){this.Checkislogin()},methods:{getbuyCorbon:function(t){var e=this;this.noitify||(this.noitify=[]),c.a.database().ref("buyCorbon").on("value",(function(n){var data=n.val();e.noitify=[],data&&Object.values(data).forEach((function(element){element.uid==t&&e.noitify.push(element)}))}))},getuser:function(t){var e=this;c.a.database().ref("users/"+t).on("value",(function(t){var data=t.val();e.role=data.role}))},logout:function(){var t=this;c.a.auth().signOut().then((function(){t.$router.push("/"),o.a.fire({icon:"success",title:"ออกจากระบบสําเร็จ",showConfirmButton:!1,timer:1500})}))},Checkislogin:function(){var t=this;c.a.auth().onAuthStateChanged((function(e){e?(t.islogin=!0,t.userEmail=e.email,t.getbuyCorbon(e.uid),t.getuser(e.uid)):t.islogin=!1}))},profile:function(){this.$router.push("/profile")}}},d=(n(323),n(64)),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e("b-navbar",{attrs:{toggleable:"sm",type:"dark",variant:"transparent"}},[e("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),t._v(" "),e("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[e("b-navbar-nav",[e("b-nav-item",{staticClass:"ml-5",attrs:{to:"/"}},[t._v("หน้าแรก")]),t._v(" "),"admin"==t.role?e("b-nav-item",{staticClass:"ml-5",attrs:{to:"/manage"}},[t._v("จัดการร้าน")]):t._e()],1),t._v(" "),e("b-navbar-nav",{staticClass:"ml-auto"},[1==t.islogin?e("b-nav-item",{staticClass:"mr-5",attrs:{id:"show-btn"},on:{click:function(e){return t.$bvModal.show("bv-modal-example")}}},[t._v("แจ้งเตือน")]):t._e(),t._v(" "),0==t.islogin?e("b-nav-item",{staticClass:"mr-5",attrs:{href:"/login"}},[t._v("เข้าสู่ระบบ")]):t._e(),t._v(" "),1==t.islogin?e("b-dropdown",{staticClass:"mr-5",attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("img",{staticClass:"icon-user",attrs:{src:"https://www.pngkey.com/png/full/72-729716_user-avatar-png-graphic-free-download-icon.png",alt:""}})]},proxy:!0}],null,!1,3321671131)},[t._v(" "),e("b-dropdown-item",{attrs:{disabled:""}},[t._v(t._s(t.userEmail))]),t._v(" "),e("b-dropdown-divider"),t._v(" "),e("b-dropdown-item",{on:{click:t.profile}},[t._v("โปรไฟล์")]),t._v(" "),e("b-dropdown-item",{on:{click:t.logout}},[t._v("ออกจากระบบ")])],1):t._e()],1)],1)],1),t._v(" "),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      แจ้งเตือน\n    ")]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"d-block text-center"},[t._l(t.noitify,(function(n){return"รอการตรวจสอบ"===n.status?e("b-alert",{attrs:{show:"",variant:"warning"}},[e("p",[t._v(t._s(n.status)+" "+t._s(n.tree.totalCarbon)+" C "+t._s(n.tree.carbonPrice)+" บาท")])]):t._e()})),t._v(" "),t._l(t.noitify,(function(n){return"ตรวจสอบแล้ว"===n.status?e("b-alert",{attrs:{show:"",variant:"success"}},[e("p",[t._v(t._s(n.status)+" "+t._s(n.tree.totalCarbon)+" C "+t._s(n.tree.carbonPrice)+" บาท")]),t._v(" "),e("button",{staticClass:"btn btn-success"},[t._v("โหลดเอกสาร")])]):t._e()}))],2),t._v(" "),e("b-button",{staticClass:"mt-3 btn-danger",attrs:{block:""},on:{click:function(e){return t.$bvModal.hide("bv-modal-example")}}},[t._v("ปิด")])],1)],1)}),[],!1,null,"27fda3b9",null);e.a=component.exports},338:function(t,e,n){var content=n(354);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("446241cb",content,!0,{sourceMap:!1})},339:function(t,e,n){var content=n(356);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("7e62498e",content,!0,{sourceMap:!1})},353:function(t,e,n){"use strict";n(338)},354:function(t,e,n){var r=n(81)((function(i){return i[1]}));r.push([t.i,".logo[data-v-3aa45c2e]{align-items:center;display:flex;height:50%;justify-content:center}@media screen and (max-width:768px){.img1[data-v-3aa45c2e]{display:none}}.card[data-v-3aa45c2e]{border:none;height:350px;overflow-y:scroll;width:100%}.card-body2[data-v-3aa45c2e]{background-color:#00a1b4;border-radius:15px;color:#fff;display:flex;flex-direction:column;font-size:large;margin-bottom:10px;padding:20px}.card-body2>button[data-v-3aa45c2e]{background-color:#c4f1f7;border:none;border-radius:5px;color:#000;font-weight:700;height:40px;width:100%}.graph[data-v-3aa45c2e]{align-items:flex-end;background-color:#00a1b4;border-radius:15px;display:flex;gap:10px;height:200px;padding:10px;position:relative}.graph-line-title[data-v-3aa45c2e]{display:flex;flex-direction:column;height:100%;justify-content:space-between;margin-right:10px;text-align:right}.graph-line-title p[data-v-3aa45c2e]{color:#fff;font-size:12px;margin:0}.graph-bars[data-v-3aa45c2e]{flex-grow:1;gap:10px}.graph-bars[data-v-3aa45c2e],.graph-line[data-v-3aa45c2e]{align-items:flex-end;display:flex}.graph-line[data-v-3aa45c2e]{background-color:#fff;color:#fff;font-size:12px;justify-content:center;margin-bottom:10px;position:relative;text-align:center;transition:height .3s ease;width:30px}.graph-line span[data-v-3aa45c2e]{bottom:-20px;color:#fff;font-size:12px;position:absolute}.graph-x-title[data-v-3aa45c2e]{justify-content:end}.graph-x-title[data-v-3aa45c2e],.graph-y-title[data-v-3aa45c2e]{color:#fff;display:flex;font-size:12px;font-weight:700;margin-bottom:10px;width:100%}.graph-y-title[data-v-3aa45c2e]{justify-content:start}.imgcc[data-v-3aa45c2e]{height:auto;padding-bottom:10px;width:100%}dody[data-v-3aa45c2e]{background:linear-gradient(to bottom right,#0bc599 30%,#f1e92e)}.signup-container[data-v-3aa45c2e]{align-items:center;display:flex;flex-wrap:wrap;justify-content:center}.signup-box[data-v-3aa45c2e],.signup-box2[data-v-3aa45c2e]{background-color:#fff;border:5px solid #fff;border-radius:50px;box-shadow:0 5px 1px 0 hsla(0,0%,53%,.353);height:450px;margin:10px;max-width:400px;padding:20px;width:100%}.signup-box[data-v-3aa45c2e]{background-color:hsla(0,0%,100%,0)}.signup-image img[data-v-3aa45c2e]{border-radius:10px;height:auto;width:100%}.input-field[data-v-3aa45c2e],.signup-input[data-v-3aa45c2e]{background-color:#f2f2f2;border:1px solid #909090;border-radius:5px;height:40px;padding-left:10px;width:100%}.btn-primary[data-v-3aa45c2e],.signup-btn[data-v-3aa45c2e]{background-color:#00a1b4;border:none;border-radius:5px;color:#fff;font-weight:700;height:40px;width:100%}.signup-google-btn[data-v-3aa45c2e]{align-items:center;background-color:#fff;border:1px solid #909090;border-radius:5px;display:flex;height:40px;justify-content:center;width:100%}.signup-google-btn img[data-v-3aa45c2e]{height:20px;margin-right:10px;width:20px}.small-text[data-v-3aa45c2e]{font-size:10px}.qr[data-v-3aa45c2e]{align-items:center;display:flex;justify-content:center}.img2[data-v-3aa45c2e]{border-radius:50px;height:40%;-o-object-fit:cover;object-fit:cover;width:40%}.btn-corbon[data-v-3aa45c2e]{align-items:center;border:none;border-radius:5px;color:#fff;display:flex;font-weight:700;gap:10px;height:40px;justify-content:center;width:100%}@media (max-width:768px){.signup-box[data-v-3aa45c2e]{max-width:100%;width:100%}.signup-container[data-v-3aa45c2e]{align-items:center;display:flex;flex-wrap:wrap;justify-content:center}}",""]),r.locals={},t.exports=r},355:function(t,e,n){"use strict";n(339)},356:function(t,e,n){var r=n(81)((function(i){return i[1]}));r.push([t.i,".backgroundhome[data-v-c0a7a80c]{background:linear-gradient(to bottom right,#0bc599 30%,#f1e92e);display:flex;flex-direction:column;height:100%;min-height:100vh;width:100%}",""]),r.locals={},t.exports=r},358:function(t,e,n){"use strict";n.r(e);var r=n(325),o=[function(){var t=this._self._c;return t("div",{staticClass:"logo"},[t("img",{staticClass:"img1",attrs:{src:n(322),alt:""}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("p",[t._v("ราคาคาร์บอน")]),t._v(" "),e("p",{staticClass:"small-text"},[t._v("เดือน สิงหาคม 2567")])]),t._v(" "),e("div",{staticClass:"col"},[e("img",{attrs:{src:"",alt:""}})]),t._v(" "),e("div",{staticClass:"col"},[t._v("\n                    75.15B\n                ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-9"},[e("p",[t._v("จำนวนคาร์บอนที่มี")]),t._v(" "),e("p",[t._v("มูลค่าเฉลี่ย 198.15B")])]),t._v(" "),e("div",{staticClass:"col-3"},[e("p",[t._v("98.15C")])])])}],c=n(0),l=n(34),d=(n(4),n(2),n(233),n(6),n(7),n(5),n(3),n(1),n(311)),v=n(313),f=n.n(v);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(c.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={data:function(){return{page:1,treeData:{},selectedTree:null,imgurl:null,data_graph:[{date:"1",value:30},{date:"2",value:140},{date:"3",value:60},{date:"4",value:10},{date:"5",value:120},{date:"6",value:40},{date:"7",value:70}]}},methods:{buyCorbon:function(){console.log(this.selectedTree),console.log(this.imgurl);var t={tree:this.selectedTree,imgurl:this.imgurl,uid:d.a.auth().currentUser.uid,status:"รอการตรวจสอบ"},e=d.a.database().ref("buyCorbon").push(t);e.then((function(t){f.a.fire({icon:"success",title:"บันทึกข้อมูลสําเร็จ",showConfirmButton:!1,timer:2e3})})),e.catch((function(t){console.error(t)}))},onFileChange:function(t){var e=this,n=t.target.files[0];if(n){var r=new FormData;r.append("image",n);fetch("https://api.imgbb.com/1/upload?key=0904e409f47dfdaabe1f414e276a4cd8",{method:"POST",body:r}).then((function(t){return t.json()})).then((function(data){data.success?(console.log("Uploaded Image URL:",data.data.display_url),e.imgurl=data.data.display_url):console.error("Upload failed:",data)})).catch((function(t){console.error("Error uploading image:",t)}))}},fetch_trees:function(){var t=this;d.a.database().ref("trees").on("value",(function(e){for(var data=e.val(),n=[],r=0,o=Object.entries(data||{});r<o.length;r++){var c=Object(l.a)(o[r],2),d=c[0],v=c[1];n.push(m({id:d},v))}t.treeData=n}))},buyTree:function(t){this.selectedTree=t,this.page=2}},mounted:function(){this.fetch_trees()}},x=(n(353),n(64)),y=Object(x.a)(_,(function(){var t,e,n=this,r=n._self._c;return r("div",{staticClass:"signup-background"},[n._m(0),n._v(" "),r("div",{staticClass:"container signup-container"},[r("div",{staticClass:"signup-box"},[n._m(1),n._v(" "),r("div",{staticClass:"graph-container"},[r("div",{staticClass:"graph-y-title"},[n._v("\n                    Y: ค่า Carbon\n                ")]),n._v(" "),r("div",{staticClass:"graph"},[r("div",{staticClass:"graph-line-title"},n._l([50,40,30,20,10],(function(label,t){return r("p",{key:t},[n._v(n._s(label))])})),0),n._v(" "),r("div",{staticClass:"graph-bars"},n._l(n.data_graph,(function(data,t){return r("div",{key:t,staticClass:"graph-line",style:{height:data.value+"px"}},[r("span",[n._v(n._s(data.date))])])})),0)]),n._v(" "),r("div",{staticClass:"graph-x-title"},[n._v("\n                    X: วันที่\n                ")])]),n._v(" "),n._m(2)]),n._v(" "),1===n.page?r("div",{staticClass:"signup-box2"},[r("p",[n._v("คาร์บอน")]),n._v(" "),r("div",{staticClass:"card"},n._l(n.treeData,(function(t){return r("div",{staticClass:"card-body2"},[r("p",[n._v("จำนวนคาร์บอน "+n._s(t.totalCarbon)+" C")]),n._v(" "),r("p",[n._v("ราคา "+n._s(t.carbonPrice)+" บาท")]),n._v(" "),r("button",{on:{click:function(e){return n.buyTree(t)}}},[n._v("ชื้อ")])])})),0)]):n._e(),n._v(" "),2===n.page?r("div",{staticClass:"signup-box2"},[r("p",[n._v("คาร์บอนที่เลือก")]),n._v(" "),r("div",{staticClass:"card-body"},[r("p",[n._v("จำนวนคาร์บอน "+n._s(null===(t=n.selectedTree)||void 0===t?void 0:t.totalCarbon)+" C")]),n._v(" "),r("p",[n._v("ราคา "+n._s(null===(e=n.selectedTree)||void 0===e?void 0:e.carbonPrice)+" บาท")])]),n._v(" "),r("div",{staticClass:"qr"},[n.imgurl?r("img",{staticClass:"img2",attrs:{src:n.imgurl,alt:"Uploaded Image"}}):r("img",{staticClass:"img2",attrs:{src:"/QRcode2.png",alt:"Default Image"}})]),n._v(" "),r("input",{attrs:{type:"file"},on:{change:n.onFileChange}}),n._v(" "),r("div",{staticClass:"btn-corbon"},[r("button",{staticClass:"btn btn-primary",on:{click:function(t){n.page=1}}},[n._v("กลับ")]),n._v(" "),r("button",{staticClass:"btn btn-primary",on:{click:function(t){return n.buyCorbon()}}},[n._v("ชื้อ")])])]):n._e(),n._v(" "),3===n.page?r("div",{staticClass:"signup-box2"},[r("img",{staticClass:"imgcc",attrs:{src:"/CC.png",alt:""}}),n._v(" "),r("button",{staticClass:"btn btn-primary mb-3",on:{click:function(t){n.page=1}}},[n._v("กลับ")]),n._v(" "),r("button",{staticClass:"btn btn-primary",on:{click:function(t){n.page=1}}},[n._v("ดาวน์โหลด")])]):n._e()])])}),o,!1,null,"3aa45c2e",null).exports,C={components:{Nevbar:r.a,Home:y},data:function(){return{}},mounted:function(){},methods:{}},w=(n(355),Object(x.a)(C,(function(){var t=this._self._c;return t("div",{staticClass:"backgroundhome"},[t("Nevbar"),this._v(" "),t("Home")],1)}),[],!1,null,"c0a7a80c",null));e.default=w.exports}}]);