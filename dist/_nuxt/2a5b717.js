(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{357:function(e,t,o){var content=o(386);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(66).default)("ee601e02",content,!0,{sourceMap:!1})},385:function(e,t,o){"use strict";o(357)},386:function(e,t,o){var r=o(65)((function(i){return i[1]}));r.push([e.i,".form-main[data-v-3778d02a]{width:100%}.form-row-v2[data-v-3778d02a]{padding-top:10px}.form-row-v2>button[data-v-3778d02a]{background-color:#a06500;border:none;border-radius:4px;color:#fff;cursor:pointer;padding:10px 20px}h1[data-v-3778d02a]{text-align:center}.form-row[data-v-3778d02a]{margin-bottom:15px}.form-row label[data-v-3778d02a]{display:block;font-weight:700}.form-row input[data-v-3778d02a]{border:1px solid #ccc;border-radius:4px;padding:8px;width:100%}.form-row-checkbox[data-v-3778d02a]{align-items:center;display:flex}.form-row-checkbox p[data-v-3778d02a]{margin-left:8px}.file-upload[data-v-3778d02a]{margin-top:8px}.form-row-button[data-v-3778d02a]{display:flex;justify-content:space-between;margin-top:20px}.btn-cancel[data-v-3778d02a],.btn-submit[data-v-3778d02a]{border:none;border-radius:4px;cursor:pointer;padding:10px 20px}.btn-cancel[data-v-3778d02a]{background-color:#ccc}.btn-submit[data-v-3778d02a]{background-color:#28a745;color:#fff}",""]),r.locals={},e.exports=r},457:function(e,t,o){"use strict";o.r(t);o(19),o(25);var r=o(0),n=o(41),l=(o(94),o(5),o(3),o(36),o(7),o(8),o(6),o(2),o(4),o(139)),c=o(118),d=o.n(c);function v(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function m(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?v(Object(o),!0).forEach((function(t){Object(r.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var f={layout:"menu-profile",data:function(){return{uploading:!1,form:{projectNameEn:"",projectNameTh:"",projectTypes:[],otherProjectType:"",contactName:"",address:"",phone:"",fax:"",email:"",monitoringFiles:[],verificationFiles:[],otherFiles:[]},projectTypes:["การเพิ่มประสิทธิภาพพลังงาน","การจัดการในภาคขนส่ง","พลังงานทดแทน","ป่าไม้และพื้นที่สีเขียว","การจัดการของเสีย","การเกษตร"],uid:""}},mounted:function(){var e=this;l.a.auth().onAuthStateChanged((function(t){t?(e.uid=t.uid,console.log("User Logged In:",e.uid)):alert("กรุณาเข้าสู่ระบบก่อนส่งข้อมูล")}))},methods:{handleFileChange:function(e){this.file=e.target.files[0]},fileToBase64:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,o){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.onerror=o,r.readAsDataURL(e)})));case 1:case"end":return t.stop()}}),t)})))()},uploadFile:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var r,n,c,d;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t.file){o.next=2;break}return o.abrupt("return");case 2:o.t0=e,o.next="m1"===o.t0||"m2"===o.t0||"m3"===o.t0||"m4"===o.t0?5:"v1"===o.t0||"v2"===o.t0||"v3"===o.t0||"v4"===o.t0?7:"other1"===o.t0||"other2"===o.t0||"other3"===o.t0||"other4"===o.t0?9:11;break;case 5:return r=t.form.monitoringFiles,o.abrupt("break",13);case 7:return r=t.form.verificationFiles,o.abrupt("break",13);case 9:return r=t.form.otherFiles,o.abrupt("break",13);case 11:return console.error("Invalid file type:",e),o.abrupt("return");case 13:return r.push(t.file),t.uploading=!0,o.prev=15,o.next=18,t.fileToBase64(t.file);case 18:return n=o.sent,c=l.a.database().ref("files"),d=c.push(),o.next=23,d.set({fileName:t.file.name,fileData:n,uploadDate:(new Date).toLocaleString()});case 23:e={m1:"monitoringFiles1",m2:"monitoringFiles2",m3:"monitoringFiles3",m4:"monitoringFiles4",v1:"verificationFiles1",v2:"verificationFiles2",v3:"verificationFiles3",v4:"verificationFiles4",other1:"otherFiles1",other2:"otherFiles2",other3:"otherFiles3",other4:"otherFiles4"}[e]||e,t.form[e]=d.key,o.next=31;break;case 28:o.prev=28,o.t1=o.catch(15),console.error("Error uploading file:",o.t1);case 31:return o.prev=31,t.uploading=!1,o.finish(31);case 34:case"end":return o.stop()}}),o,null,[[15,28,31,34]])})))()},downloadFile:function(e){var t={monitoringFiles:"https://ghgreduction.tgo.or.th/th/download-tver/download/8223/333/32.html",verificationFiles:"https://ghgreduction.tgo.or.th/th/download-tver/download/8224/333/32.html"};t[e]&&(window.location.href=t[e])},cancelForm:function(){this.form={projectNameEn:"",projectNameTh:"",projectTypes:[],otherProjectType:"",contactName:"",address:"",phone:"",fax:"",email:"",monitoringFiles:[],verificationFiles:[],otherFiles:[]}},submitForm:function(){var e=this;if(this.form.projectNameEn&&this.form.projectNameTh&&this.form.contactName&&this.form.email)if(this.uid){var t=m(m({},this.form),{},{status:"1",date_submitForm:(new Date).toISOString(),uid:this.uid});l.a.database().ref("T-VER-Form").push(t).then((function(){d.a.fire({icon:"success",title:"บันทึกข้อมูลสำเร็จ",showConfirmButton:!1,timer:1500}),e.cancelForm()})).catch((function(e){console.error("เกิดข้อผิดพลาดในการบันทึกข้อมูล:",e),d.a.fire({icon:"error",title:"เกิดข้อผิดพลาดในการบันทึกข้อมูล",text:e.message})}))}else alert("ไม่พบ UID ของผู้ใช้ กรุณาล็อกอินใหม่");else alert("กรุณากรอกข้อมูลให้ครบถ้วน")}}},_=(o(385),o(52)),component=Object(_.a)(f,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-main"},[t("h1",[e._v("แบบฟอร์มขอรับรองคาร์บอนเครดิต Standard T-VER")]),e._v(" "),t("p",[e._v("รายละเอียดโครงการ")]),e._v(" "),t("div",{staticClass:"form-row"},[t("label",{attrs:{for:"project_name_en"}},[e._v("ชื่อโครงการภาษาอังกฤษ *")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.projectNameEn,expression:"form.projectNameEn"}],attrs:{type:"text",id:"project_name_en",required:""},domProps:{value:e.form.projectNameEn},on:{input:function(t){t.target.composing||e.$set(e.form,"projectNameEn",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-row"},[t("label",{attrs:{for:"project_name_th"}},[e._v("ชื่อโครงการภาษาไทย *")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.projectNameTh,expression:"form.projectNameTh"}],attrs:{type:"text",id:"project_name_th",required:""},domProps:{value:e.form.projectNameTh},on:{input:function(t){t.target.composing||e.$set(e.form,"projectNameTh",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-row-checkbox-group"},[t("label",[e._v("ประเภทโครงการ")]),e._v(" "),e._l(e.projectTypes,(function(option,o){return t("div",{key:o,staticClass:"form-row-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.projectTypes,expression:"form.projectTypes"}],attrs:{type:"checkbox"},domProps:{value:option,checked:Array.isArray(e.form.projectTypes)?e._i(e.form.projectTypes,option)>-1:e.form.projectTypes},on:{change:function(t){var o=e.form.projectTypes,r=t.target,n=!!r.checked;if(Array.isArray(o)){var l=option,c=e._i(o,l);r.checked?c<0&&e.$set(e.form,"projectTypes",o.concat([l])):c>-1&&e.$set(e.form,"projectTypes",o.slice(0,c).concat(o.slice(c+1)))}else e.$set(e.form,"projectTypes",n)}}}),e._v(" "),t("p",[e._v(e._s(option))])])}))],2),e._v(" "),t("div",{staticClass:"form-row"},[t("label",{attrs:{for:"other_project_type"}},[e._v("อื่น ๆ (ถ้ามี)")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.otherProjectType,expression:"form.otherProjectType"}],attrs:{type:"text",id:"other_project_type"},domProps:{value:e.form.otherProjectType},on:{input:function(t){t.target.composing||e.$set(e.form,"otherProjectType",t.target.value)}}})]),e._v(" "),t("p",[e._v("รายละเอียดผู้พัฒนาโครงการ")]),e._v(" "),t("div",{staticClass:"form-row"},[t("label",{attrs:{for:"contact_name"}},[e._v("ชื่อผู้ประสานงาน :")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.contactName,expression:"form.contactName"}],attrs:{type:"text",id:"contact_name"},domProps:{value:e.form.contactName},on:{input:function(t){t.target.composing||e.$set(e.form,"contactName",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-row"},[t("label",{attrs:{for:"address"}},[e._v("ที่อยู่ :")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.address,expression:"form.address"}],attrs:{type:"text",id:"address"},domProps:{value:e.form.address},on:{input:function(t){t.target.composing||e.$set(e.form,"address",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-row"},[t("label",{attrs:{for:"phone"}},[e._v("โทรศัพท์ :")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.phone,expression:"form.phone"}],attrs:{type:"tel",id:"phone"},domProps:{value:e.form.phone},on:{input:function(t){t.target.composing||e.$set(e.form,"phone",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-row"},[t("label",{attrs:{for:"fax"}},[e._v("โทรสาร :")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.fax,expression:"form.fax"}],attrs:{type:"text",id:"fax"},domProps:{value:e.form.fax},on:{input:function(t){t.target.composing||e.$set(e.form,"fax",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-row"},[t("label",{attrs:{for:"email"}},[e._v("อีเมล :")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],attrs:{type:"email",id:"email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})]),e._v(" "),t("p",[e._v("หลักฐานประกอบสำหรับแนบไฟล์")]),e._v(" "),t("div",{staticClass:"form-row-v2"},[t("label",[e._v("รายงานการติดตามประเมินผล (Monitoring Report):")]),e._v(" "),t("div",[t("button",{on:{click:function(t){return e.downloadFile("monitoringFiles")}}},[e._v("ดาวน์โหลดตัวอย่าง")])]),e._v(" "),t("div",{staticClass:"pt-2"},[t("input",{attrs:{type:"file"},on:{change:e.handleFileChange}}),e._v(" "),t("button",{on:{click:function(t){return e.uploadFile("m1")}}},[e._v("Upload")]),e._v(" "),e.uploading?t("p",[e._v("Uploading...")]):e._e()]),e._v(" "),t("div",{staticClass:"pt-2"},[t("input",{attrs:{type:"file"},on:{change:e.handleFileChange}}),e._v(" "),t("button",{on:{click:function(t){return e.uploadFile("m2")}}},[e._v("Upload")]),e._v(" "),e.uploading?t("p",[e._v("Uploading...")]):e._e()]),e._v(" "),t("div",{staticClass:"pt-2"},[t("input",{attrs:{type:"file"},on:{change:e.handleFileChange}}),e._v(" "),t("button",{on:{click:function(t){return e.uploadFile("m3")}}},[e._v("Upload")]),e._v(" "),e.uploading?t("p",[e._v("Uploading...")]):e._e()]),e._v(" "),t("div",{staticClass:"pt-2"},[t("input",{attrs:{type:"file"},on:{change:e.handleFileChange}}),e._v(" "),t("button",{on:{click:function(t){return e.uploadFile("m4")}}},[e._v("Upload")]),e._v(" "),e.uploading?t("p",[e._v("Uploading...")]):e._e()])]),e._v(" "),t("div",{staticClass:"form-row-v2"},[t("label",[e._v("รายงานการตรวจสอบความใช้ได้โครงการ (Verification Report):")]),e._v(" "),t("div",[t("button",{on:{click:function(t){return e.downloadFile("verificationFiles")}}},[e._v("ดาวน์โหลดตัวอย่าง")])]),e._v(" "),t("div",{staticClass:"pt-2"},[t("input",{attrs:{type:"file"},on:{change:e.handleFileChange}}),e._v(" "),t("button",{on:{click:function(t){return e.uploadFile("v1")}}},[e._v("Upload")]),e._v(" "),e.uploading?t("p",[e._v("Uploading...")]):e._e()]),e._v(" "),t("div",{staticClass:"pt-2"},[t("input",{attrs:{type:"file"},on:{change:e.handleFileChange}}),e._v(" "),t("button",{on:{click:function(t){return e.uploadFile("v2")}}},[e._v("Upload")]),e._v(" "),e.uploading?t("p",[e._v("Uploading...")]):e._e()]),e._v(" "),t("div",{staticClass:"pt-2"},[t("input",{attrs:{type:"file"},on:{change:e.handleFileChange}}),e._v(" "),t("button",{on:{click:function(t){return e.uploadFile("v3")}}},[e._v("Upload")]),e._v(" "),e.uploading?t("p",[e._v("Uploading...")]):e._e()]),e._v(" "),t("div",{staticClass:"pt-2"},[t("input",{attrs:{type:"file"},on:{change:e.handleFileChange}}),e._v(" "),t("button",{on:{click:function(t){return e.uploadFile("v4")}}},[e._v("Upload")]),e._v(" "),e.uploading?t("p",[e._v("Uploading...")]):e._e()])]),e._v(" "),t("div",{staticClass:"form-row-v2"},[t("label",[e._v("อื่น ๆ (ถ้ามี):")]),e._v(" "),t("div",{staticClass:"pt-2"},[t("input",{attrs:{type:"file"},on:{change:e.handleFileChange}}),e._v(" "),t("button",{on:{click:function(t){return e.uploadFile("other1")}}},[e._v("Upload")]),e._v(" "),e.uploading?t("p",[e._v("Uploading...")]):e._e()]),e._v(" "),t("div",{staticClass:"pt-2"},[t("input",{attrs:{type:"file"},on:{change:e.handleFileChange}}),e._v(" "),t("button",{on:{click:function(t){return e.uploadFile("other2")}}},[e._v("Upload")]),e._v(" "),e.uploading?t("p",[e._v("Uploading...")]):e._e()]),e._v(" "),t("div",{staticClass:"pt-2"},[t("input",{attrs:{type:"file"},on:{change:e.handleFileChange}}),e._v(" "),t("button",{on:{click:function(t){return e.uploadFile("other3")}}},[e._v("Upload")]),e._v(" "),e.uploading?t("p",[e._v("Uploading...")]):e._e()]),e._v(" "),t("div",{staticClass:"pt-2"},[t("input",{attrs:{type:"file"},on:{change:e.handleFileChange}}),e._v(" "),t("button",{on:{click:function(t){return e.uploadFile("other4")}}},[e._v("Upload")]),e._v(" "),e.uploading?t("p",[e._v("Uploading...")]):e._e()])]),e._v(" "),t("div",{staticClass:"form-row-button"},[t("button",{staticClass:"btn-cancel",on:{click:e.cancelForm}},[e._v("ยกเลิก")]),e._v(" "),t("button",{staticClass:"btn-submit",on:{click:e.submitForm}},[e._v("ส่งข้อมูล")])])])}),[],!1,null,"3778d02a",null);t.default=component.exports}}]);