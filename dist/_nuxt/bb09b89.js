(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{438:function(t,e,o){var content=o(519);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(59).default)("23d742ee",content,!0,{sourceMap:!1})},518:function(t,e,o){"use strict";o(438)},519:function(t,e,o){var r=o(58)((function(i){return i[1]}));r.push([t.i,".form-main[data-v-1d45e86e]{width:100%}.form-textarea[data-v-1d45e86e]{border:1px solid #ccc;border-radius:5px;height:100px;padding:8px;resize:none;width:100%}.form-checkbox[data-v-1d45e86e]{height:20px;margin-bottom:10px;margin-top:10px;width:20px}.form-row-v2[data-v-1d45e86e]{padding-top:10px}.form-row-v2>button[data-v-1d45e86e]{background-color:#a06500;border:none;border-radius:4px;color:#fff;cursor:pointer;padding:10px 20px}h1[data-v-1d45e86e]{text-align:center}.form-row[data-v-1d45e86e]{margin-bottom:15px}.form-row label[data-v-1d45e86e]{display:block;font-weight:700}.form-row input[data-v-1d45e86e]{border:1px solid #ccc;border-radius:4px;padding:8px;width:100%}.form-row-checkbox[data-v-1d45e86e]{align-items:center;display:flex}.form-row-checkbox-group>label[data-v-1d45e86e]{display:block;font-weight:700}.form-row-checkbox p[data-v-1d45e86e]{margin:0;padding-left:10px}.file-upload[data-v-1d45e86e]{margin-top:8px}.form-row-button[data-v-1d45e86e]{display:flex;justify-content:space-between;margin-top:20px}.btn-cancel[data-v-1d45e86e],.btn-submit[data-v-1d45e86e]{border:none;border-radius:4px;cursor:pointer;padding:10px 20px}.btn-cancel[data-v-1d45e86e]{background-color:#ccc}.btn-submit[data-v-1d45e86e]{background-color:#28a745;color:#fff}",""]),r.locals={},t.exports=r},570:function(t,e,o){"use strict";o.r(e);o(20),o(27);var r=o(0),n=o(39),l=(o(79),o(5),o(3),o(37),o(7),o(8),o(6),o(2),o(4),o(140)),c=o(119),d=o.n(c);function v(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function m(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?v(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var f={layout:"menu-profile",data:function(){return{zoom:6,center:[13.7563,100.5018],tileLayerUrl:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileLayerAttribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',markerPosition:[13.7563,100.5018],markerPositions:[[13.7563,100.5018]],uploading:!1,form:{projectNameEn:"",projectNameTh:"",projectTypes:[],otherProjectType:"",contactName:"",address:"",phone:"",fax:"",email:"",monitoringFiles:[],verificationFiles:[],otherFiles:[],markerPosition:[13.7563,100.5018]},projectTypes:["การเพิ่มประสิทธิภาพพลังงาน","การจัดการในภาคขนส่ง","พลังงานทดแทน","ป่าไม้และพื้นที่สีเขียว","การจัดการของเสีย","การเกษตร"],uid:""}},mounted:function(){var t=this;l.a.auth().onAuthStateChanged((function(e){e?t.uid=e.uid:d.a.fire({icon:"error",title:"เกิดข้อผิดพลาด",text:"กรุณาเข้าสู่ระบบ",confirmButtonText:"ตกลง",confirmButtonColor:"#007BFF"}).then((function(){t.$router.push("/login")}))}))},methods:{onMapClick:function(t){var e=t.latlng;this.markerPosition=[e.lat,e.lng],this.markerPositions=[this.markerPosition],this.form.markerPosition=this.markerPosition},handleFileChange:function(t){this.file=t.target.files[0]},fileToBase64:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){var r=new FileReader;r.onloadend=function(){return e(r.result)},r.onerror=o,r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})))()},uploadFile:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var r,n,c,d;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.file){o.next=2;break}return o.abrupt("return");case 2:o.t0=t,o.next="m1"===o.t0||"m2"===o.t0||"m3"===o.t0||"m4"===o.t0?5:"v1"===o.t0||"v2"===o.t0||"v3"===o.t0||"v4"===o.t0?7:"other1"===o.t0||"other2"===o.t0||"other3"===o.t0||"other4"===o.t0?9:11;break;case 5:return r=e.form.monitoringFiles,o.abrupt("break",13);case 7:return r=e.form.verificationFiles,o.abrupt("break",13);case 9:return r=e.form.otherFiles,o.abrupt("break",13);case 11:return console.error("Invalid file type:",t),o.abrupt("return");case 13:return r.push(e.file),e.uploading=!0,o.prev=15,o.next=18,e.fileToBase64(e.file);case 18:return n=o.sent,c=l.a.database().ref("files"),d=c.push(),o.next=23,d.set({fileName:e.file.name,fileData:n,uploadDate:(new Date).toLocaleString()});case 23:t={m1:"monitoringFiles1",m2:"monitoringFiles2",m3:"monitoringFiles3",m4:"monitoringFiles4",v1:"verificationFiles1",v2:"verificationFiles2",v3:"verificationFiles3",v4:"verificationFiles4",other1:"otherFiles1",other2:"otherFiles2",other3:"otherFiles3",other4:"otherFiles4"}[t]||t,e.form[t]=d.key,o.next=31;break;case 28:o.prev=28,o.t1=o.catch(15),console.error("Error uploading file:",o.t1);case 31:return o.prev=31,e.uploading=!1,o.finish(31);case 34:case"end":return o.stop()}}),o,null,[[15,28,31,34]])})))()},downloadFile:function(t){var e={monitoringFiles:"https://ghgreduction.tgo.or.th/th/download-tver/download/8223/333/32.html",verificationFiles:"https://ghgreduction.tgo.or.th/th/download-tver/download/8224/333/32.html"};e[t]&&(window.location.href=e[t])},cancelForm:function(){this.form={projectNameEn:"",projectNameTh:"",projectTypes:[],otherProjectType:"",contactName:"",address:"",phone:"",fax:"",email:"",monitoringFiles:[],verificationFiles:[],otherFiles:[]}},submitForm:function(){var t=this;if(this.form.projectNameEn&&this.form.projectNameTh&&this.form.contactName&&this.form.email)if(this.uid){var e=m(m({},this.form),{},{status:"1",date_submitForm:(new Date).toISOString(),uid:this.uid});l.a.database().ref("T-VER-Form").push(e).then((function(){d.a.fire({icon:"success",title:"บันทึกข้อมูลสำเร็จ",showConfirmButton:!1,timer:1500}),t.cancelForm()})).catch((function(t){console.error("เกิดข้อผิดพลาดในการบันทึกข้อมูล:",t),d.a.fire({icon:"error",title:"เกิดข้อผิดพลาดในการบันทึกข้อมูล",text:t.message})}))}else alert("ไม่พบ UID ของผู้ใช้ กรุณาล็อกอินใหม่");else alert("กรุณากรอกข้อมูลให้ครบถ้วน")}}},h=(o(518),o(53)),component=Object(h.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-main"},[e("h1",[t._v("แบบฟอร์มขอรับรองคาร์บอนเครดิต Standard T-VER")]),t._v(" "),e("p",[t._v("รายละเอียดโครงการ")]),t._v(" "),e("div",{staticClass:"form-row"},[e("label",{attrs:{for:"project_name_en"}},[t._v("ชื่อโครงการภาษาอังกฤษ *")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.projectNameEn,expression:"form.projectNameEn"}],attrs:{type:"text",id:"project_name_en",required:""},domProps:{value:t.form.projectNameEn},on:{input:function(e){e.target.composing||t.$set(t.form,"projectNameEn",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-row"},[e("label",{attrs:{for:"project_name_th"}},[t._v("ชื่อโครงการภาษาไทย *")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.projectNameTh,expression:"form.projectNameTh"}],attrs:{type:"text",id:"project_name_th",required:""},domProps:{value:t.form.projectNameTh},on:{input:function(e){e.target.composing||t.$set(t.form,"projectNameTh",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-row-checkbox-group"},[e("label",[t._v("ประเภทโครงการ")]),t._v(" "),t._l(t.projectTypes,(function(option,o){return e("div",{key:o,staticClass:"form-row-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.projectTypes,expression:"form.projectTypes"}],staticClass:"form-checkbox",attrs:{type:"checkbox"},domProps:{value:option,checked:Array.isArray(t.form.projectTypes)?t._i(t.form.projectTypes,option)>-1:t.form.projectTypes},on:{change:function(e){var o=t.form.projectTypes,r=e.target,n=!!r.checked;if(Array.isArray(o)){var l=option,c=t._i(o,l);r.checked?c<0&&t.$set(t.form,"projectTypes",o.concat([l])):c>-1&&t.$set(t.form,"projectTypes",o.slice(0,c).concat(o.slice(c+1)))}else t.$set(t.form,"projectTypes",n)}}}),t._v(" "),e("p",[t._v(t._s(option))])])}))],2),t._v(" "),e("div",{staticClass:"form-row"},[e("label",{attrs:{for:"other_project_type"}},[t._v("อื่น ๆ (ถ้ามี)")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.otherProjectType,expression:"form.otherProjectType"}],attrs:{type:"text",id:"other_project_type"},domProps:{value:t.form.otherProjectType},on:{input:function(e){e.target.composing||t.$set(t.form,"otherProjectType",e.target.value)}}})]),t._v(" "),e("p",[t._v("รายละเอียดผู้พัฒนาโครงการ")]),t._v(" "),e("div",{staticClass:"form-row"},[e("label",{attrs:{for:"contact_name"}},[t._v("ชื่อผู้ประสานงาน :")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.contactName,expression:"form.contactName"}],attrs:{type:"text",id:"contact_name"},domProps:{value:t.form.contactName},on:{input:function(e){e.target.composing||t.$set(t.form,"contactName",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-row"},[e("label",{attrs:{for:"address"}},[t._v("ที่อยู่ :")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.address,expression:"form.address"}],staticClass:"form-textarea",attrs:{id:"address",rows:"4",cols:"50"},domProps:{value:t.form.address},on:{input:function(e){e.target.composing||t.$set(t.form,"address",e.target.value)}}})]),t._v(" "),e("div",{staticStyle:{height:"500px"},attrs:{id:"map"}},[e("client-only",[e("l-map",{attrs:{zoom:t.zoom,center:t.center},on:{click:t.onMapClick}},[e("l-tile-layer",{attrs:{url:t.tileLayerUrl,attribution:t.tileLayerAttribution}}),t._v(" "),t._l(t.markerPositions,(function(t,o){return e("l-marker",{key:o,attrs:{"lat-lng":t}})}))],2)],1)],1),t._v(" "),e("div",[e("p",[t._v("ตำแหน่งที่คลิก: "+t._s(t.markerPosition))])]),t._v(" "),e("div",{staticClass:"form-row"},[e("label",{attrs:{for:"phone"}},[t._v("โทรศัพท์ :")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],attrs:{type:"tel",id:"phone"},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-row"},[e("label",{attrs:{for:"fax"}},[t._v("โทรสาร :")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fax,expression:"form.fax"}],attrs:{type:"text",id:"fax"},domProps:{value:t.form.fax},on:{input:function(e){e.target.composing||t.$set(t.form,"fax",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-row"},[e("label",{attrs:{for:"email"}},[t._v("อีเมล :")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],attrs:{type:"email",id:"email"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),t._v(" "),e("label",[t._v("หลักฐานประกอบสำหรับแนบไฟล์")]),t._v(" "),e("div",{staticClass:"form-row-v2"},[e("label",[t._v("รายงานการติดตามประเมินผล (Monitoring Report):")]),t._v(" "),e("div",[e("button",{staticClass:"btn btn-success",on:{click:function(e){return t.downloadFile("monitoringFiles")}}},[t._v("ดาวน์โหลดตัวอย่าง")])]),t._v(" "),e("div",{staticClass:"pt-2"},[e("input",{attrs:{type:"file"},on:{change:t.handleFileChange}}),t._v(" "),e("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.uploadFile("m1")}}},[t._v("Upload")]),t._v(" "),t.uploading?e("p",[t._v("Uploading...")]):t._e()]),t._v(" "),e("div",{staticClass:"pt-2"},[e("input",{attrs:{type:"file"},on:{change:t.handleFileChange}}),t._v(" "),e("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.uploadFile("m2")}}},[t._v("Upload")]),t._v(" "),t.uploading?e("p",[t._v("Uploading...")]):t._e()]),t._v(" "),e("div",{staticClass:"pt-2"},[e("input",{attrs:{type:"file"},on:{change:t.handleFileChange}}),t._v(" "),e("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.uploadFile("m3")}}},[t._v("Upload")]),t._v(" "),t.uploading?e("p",[t._v("Uploading...")]):t._e()]),t._v(" "),e("div",{staticClass:"pt-2"},[e("input",{attrs:{type:"file"},on:{change:t.handleFileChange}}),t._v(" "),e("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.uploadFile("m4")}}},[t._v("Upload")]),t._v(" "),t.uploading?e("p",[t._v("Uploading...")]):t._e()])]),t._v(" "),e("div",{staticClass:"form-row-v2"},[e("label",[t._v("รายงานการตรวจสอบความใช้ได้โครงการ (Verification Report):")]),t._v(" "),e("div",[e("button",{staticClass:"btn btn-success",on:{click:function(e){return t.downloadFile("verificationFiles")}}},[t._v("ดาวน์โหลดตัวอย่าง")])]),t._v(" "),e("div",{staticClass:"pt-2"},[e("input",{attrs:{type:"file"},on:{change:t.handleFileChange}}),t._v(" "),e("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.uploadFile("v1")}}},[t._v("Upload")]),t._v(" "),t.uploading?e("p",[t._v("Uploading...")]):t._e()]),t._v(" "),e("div",{staticClass:"pt-2"},[e("input",{attrs:{type:"file"},on:{change:t.handleFileChange}}),t._v(" "),e("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.uploadFile("v2")}}},[t._v("Upload")]),t._v(" "),t.uploading?e("p",[t._v("Uploading...")]):t._e()]),t._v(" "),e("div",{staticClass:"pt-2"},[e("input",{attrs:{type:"file"},on:{change:t.handleFileChange}}),t._v(" "),e("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.uploadFile("v3")}}},[t._v("Upload")]),t._v(" "),t.uploading?e("p",[t._v("Uploading...")]):t._e()]),t._v(" "),e("div",{staticClass:"pt-2"},[e("input",{attrs:{type:"file"},on:{change:t.handleFileChange}}),t._v(" "),e("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.uploadFile("v4")}}},[t._v("Upload")]),t._v(" "),t.uploading?e("p",[t._v("Uploading...")]):t._e()])]),t._v(" "),e("div",{staticClass:"form-row-v2"},[e("label",[t._v("อื่น ๆ (ถ้ามี):")]),t._v(" "),e("div",{staticClass:"pt-2"},[e("input",{attrs:{type:"file"},on:{change:t.handleFileChange}}),t._v(" "),e("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.uploadFile("other1")}}},[t._v("Upload")]),t._v(" "),t.uploading?e("p",[t._v("Uploading...")]):t._e()]),t._v(" "),e("div",{staticClass:"pt-2"},[e("input",{attrs:{type:"file"},on:{change:t.handleFileChange}}),t._v(" "),e("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.uploadFile("other2")}}},[t._v("Upload")]),t._v(" "),t.uploading?e("p",[t._v("Uploading...")]):t._e()]),t._v(" "),e("div",{staticClass:"pt-2"},[e("input",{attrs:{type:"file"},on:{change:t.handleFileChange}}),t._v(" "),e("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.uploadFile("other3")}}},[t._v("Upload")]),t._v(" "),t.uploading?e("p",[t._v("Uploading...")]):t._e()]),t._v(" "),e("div",{staticClass:"pt-2"},[e("input",{attrs:{type:"file"},on:{change:t.handleFileChange}}),t._v(" "),e("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.uploadFile("other4")}}},[t._v("Upload")]),t._v(" "),t.uploading?e("p",[t._v("Uploading...")]):t._e()])]),t._v(" "),e("div",{staticClass:"form-row-button"},[e("button",{staticClass:"btn-cancel",on:{click:t.cancelForm}},[t._v("ยกเลิก")]),t._v(" "),e("button",{staticClass:"btn-submit",on:{click:t.submitForm}},[t._v("ส่งข้อมูล")])])])}),[],!1,null,"1d45e86e",null);e.default=component.exports}}]);